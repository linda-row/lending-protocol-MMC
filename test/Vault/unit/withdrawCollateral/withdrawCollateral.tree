withdrawCollateralTest.t.sol
└── when withdrawCollateral is called
    ├── when vault is paused
    │   └── it should revert with custom error Paused()
    ├── when collateral does not exist
    │   └── it should revert with custom error CollateralDoesNotExist()
    ├── when caller is not owner and not relied upon by owner
    │   └── it should revert with custom error NotOwnerOrReliedUpon()
    ├── when the amount is greater than the borrowers deposited collateral
    │   └── it should revert with underflow error
    ├── when caller is not owner but relied upon by owner
    │   ├── it should emit CollateralWithdrawn() event with expected indexed and unindexed parameters
    │   ├── it should update user's, collateral's and global pending fee to the right figures
    │   ├── it should update the _owner's deposited collateral and collateral's total deposit
    │   ├── it should send the collateral token to the to address from the vault
    │   └── when the withdrawal makes the vault's health factor below the min health factor
    │       └── it should revert with custom error BadHealthFactor()
    └── when caller is owner
        ├── it should emit CollateralWithdrawn() event with expected indexed and unindexed parameters
        ├── it should update user's, collateral's and global pending fee to the right figures
        ├── it should update the _owner's deposited collateral and collateral's total deposit
        ├── it should send the collateral token to the to address from the vault
        └── when the withdrawal makes the vault's health factor below the min health factor
            └── it should revert with custom error BadHealthFactor()